---
import type { HTMLAttributes } from "astro/types";

export interface Props extends HTMLAttributes<"a"> {
  highlightNested?: boolean;
}
const { href, class: className, highlightNested = false, ...attrs } = Astro.props;

const active = highlightNested
  ? `/${Astro.url.pathname.split("/")[1]}` === href
  : Astro.url.pathname === href || Astro.url.pathname === `${href}/`;
---

<a href={href} class:list={["nav-link", { active }, className]} {...attrs}>
  <slot />
</a>
