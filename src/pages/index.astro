---
import PostCard from "@components/PostCard.astro";
import BaseLayout from "@layouts/BaseLayout.astro";
import { getShowablePosts, sortPosts } from "@util/BlogHelper";
import { getCollection } from "astro:content";

const allPosts = await getCollection("blog", getShowablePosts);
---

<BaseLayout title="Blog | SamTheQ" description="Samuel Quinones' Personal Blog">
  <main class="bs-container-md mt-16 max-w-[52rem] grow scroll-mt-16 px-4 pb-28">
    <!-- sm:px-6 md:px-8 lg:max-w-6xl xl:px-12 -->
    <section data-post-heading class="pt-5">
      <h1 class="mb-4 text-3xl font-semibold tracking-tight sm:text-4xl lg:mb-6 lg:text-5xl">
        Welcome
      </h1>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Neque culpa animi debitis
        excepturi. Amet ducimus rem numquam eaque harum quidem tempore inventore perspiciatis quis
        cum quo praesentium, dolorum repudiandae voluptatibus.
      </p>
    </section>
    <ul data-post-list="" data-post-count={allPosts.length} class="space-y-16 pt-8">
      {
        allPosts
          .sort(sortPosts)
          .map((post) => <PostCard {...post.data} slug={post.slug} showTags />)
      }
    </ul>
  </main>
</BaseLayout>
